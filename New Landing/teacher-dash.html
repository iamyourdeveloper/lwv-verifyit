<html class="js-focus-visible" data-js-focus-visible=""><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="mini-css/mini-default.min.css">
  <link rel="stylesheet" href="style-t-dash.css">
   <!-- <link rel="shortcut icon" href="/retail/images/favicon.ico"> -->
  <title>Game Setup - Teacher</title>
  <!-- <link href="../css/style.css" rel="stylesheet" type="text/css"> -->
  <script src="https://cdn.scaledrone.com/scaledrone.min.js"></script>
  <script src="../../js/lib.js"></script>
  <script src="../../js/iziToast.min.js" type="text/javascript"></script>
  <style>
    @import "../../css/mini-default.min.css";
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap');
    /* @import "../css/iziToast.min.css"; */
    @import url("https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css");

    * {
      font-family: Quicksand, arial, sans, sans-serif;
      margin: 0;
      padding: 0;
    }
    body {
      width: clamp(320px, 90%, 800px);
      margin: auto !important;
    }  
    ul {
      list-style-type: none;
    }
  </style>
<style type="text/css">
@font-face {
  font-weight: 400;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Book-cd7d2bcec649b1243839a15d5eb8f0a3.woff2') format('woff2');
}

@font-face {
  font-weight: 500;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Medium-d74eac43c78bd5852478998ce63dceb3.woff2') format('woff2');
}

@font-face {
  font-weight: 700;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Bold-83b8ceaf77f49c7cffa44107561909e4.woff2') format('woff2');
}

@font-face {
  font-weight: 900;
  font-style:  normal;
  font-family: 'Circular-Loom';

  src: url('https://cdn.loom.com/assets/fonts/circular/CircularXXWeb-Black-bf067ecb8aa777ceb6df7d72226febca.woff2') format('woff2');
}</style></head>
<body style="cursor: auto;">
  <div class="background">
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span>
      <div class="sub-ver-back sub-ver-back-dot">
        <div class="ver-checkbox">
            <img src="img/check-mark.png" alt="" class="ver-check">
        </div>
        <p class="ver-p1">E R I F Y</p>
        <p class="ver-p2">I T !</p>
      </div>
    </span>
    <span class="dot"></span>
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span>
      <div class="sub-ver-back sub-ver-back-dot">
        <div class="ver-checkbox">
            <img src="img/check-mark.png" alt="" class="ver-check">
        </div>
        <p class="ver-p1">E R I F Y</p>
        <p class="ver-p2">I T !</p>
      </div>
    </span>
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span>
      <div class="sub-ver-back sub-ver-back-dot">
        <div class="ver-checkbox">
            <img src="img/check-mark.png" alt="" class="ver-check">
        </div>
        <p class="ver-p1">E R I F Y</p>
        <p class="ver-p2">I T !</p>
      </div>
    </span>
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span><img src="img/check-mark.png" alt="" class="span-check"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
 </div>
  <div class="animate__animated animate__fadeIn">
    <div class="sub-ver-back sub-ver-back-0">
      <div class="ver-checkbox">
          <img src="img/check-mark.png" alt="" class="ver-check">
      </div>
      <p class="ver-p1">E R I F Y</p>
      <p class="ver-p2">I T !</p>
    </div>
    <fieldset id="multiplayer" hidden="">
      <legend>Enter your information</legend>
      <label for="handle">Your name or handle: </label>
      <input type="text" id="handle-multiplayer">
    </fieldset>
    <fieldset id="teacher" hidden="" style="display: block;">
      <legend class="t-head">Enter your information</legend>
      <label class="t-head t-head-2" for="handle">Your name or handle: </label>
      <input class="t-head-box" type="text" id="handle-teacher"><br>
      <label class="t-head t-head-2" for="school">School: </label>
      <input class="t-head-box" type="text" id="school"><br>
      <label class="t-head t-head-2" for="grade">Grade: </label>
      <input class="t-head-box" type="number" id="grade" step="1"><br>
      <label class="t-head t-head-2" for="city">City, State: </label>
      <input class="t-head-box" type="text" id="city">
      <div class="sub-ver-back sub-ver-back-1">
        <div class="ver-checkbox">
            <img src="img/check-mark.png" alt="" class="ver-check">
        </div>
        <p class="ver-p1">E R I F Y</p>
        <p class="ver-p2">I T !</p>
      </div>
    </fieldset>
    <fieldset id="game-setup">
      <legend class="t-head">Choose a Game Topic</legend>
      <div class="collapse">
        
        
        
      <input class="col-inp" type="radio" aria-hidden="true" name="accordion" id="group-0"><label class="col-lab" id="col-lab-0" aria-hidden="true" for="group-0">▶&nbsp;&nbsp;Civics</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="Civic Engagement-Mixed Civics and News" "="">
            <strong title="Questions related to civics engagement in civics and news">Civic Engagement-Mixed Civics and News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Civics-10" "="">
            <strong title="10 Civics questions from all categories.">Civics-10</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Civics-8" "="">
            <strong title="All Civics questions-8">Civics-8</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Civics-Middle School" "="">
            <strong title="Civics Questions appropriate for Middle School use">Civics-Middle School</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Fun Facts" "="">
            <strong title="Selected Fun Civics, News and Voting Facts">Fun Facts</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Political History-Mixed Civics and News" "="">
            <strong title="History questions related to civics issues including those in the news">Political History-Mixed Civics and News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Separation of Powers" "="">
            <strong title="Questions related to the Executive, Legislative, and Judicial Branches">Separation of Powers</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NY Mixed News and Civics" "="">
            <strong title="Mixed News and Civics and NY Voting questions">Voting-NY Mixed News and Civics</strong> - 10 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-1"><label class="col-lab" id="col-lab-1" aria-hidden="true" for="group-1">▶&nbsp;&nbsp;Voting</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="AZ Pre-18 Registration" "="">
            <strong title="Questions related to pre-18 voter registration in AZ">AZ Pre-18 Registration</strong> - 9 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="CA Pre-18 Registration" "="">
            <strong title="Pre-18 voter registration questions for AZ">CA Pre-18 Registration</strong> - 11 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="PA Pre-18 Registration" "="">
            <strong title="Questions related to pre-18 voter registration  in PA">PA Pre-18 Registration</strong> - 9 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-AZ" "="">
            <strong title="Questions for AZ voters">Voting-AZ</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-Any State" "="">
            <strong title="General Questions about Voting Rules in Multiple States">Voting-Any State</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-CA" "="">
            <strong title="Questions about voting and registration for CA voters">Voting-CA</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-FL" "="">
            <strong title="Questions about voting and registration for Florida voters">Voting-FL</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-GA" "="">
            <strong title="Questions about voting and registration for GA voters">Voting-GA</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-MI" "="">
            <strong title="Questions about voting and registration for MI voters">Voting-MI</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NC" "="">
            <strong title="Voting questions for North Carolina">Voting-NC</strong> - 10 questions
            </label></li>

<li><label>
            <input type="radio" name="game" value="Voting-NV" "="">
            <strong title="Voting and Registration Questions for NV voters">Voting-NV</strong> - 20 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NY" "="">
            <strong title="NY specific voting questions">Voting-NY</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-OH" "="">
            <strong title="Questions about voting and registration for OH Voters">Voting-OH</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-PA" "="">
            <strong title="Questions about voting and registration for PA voters">Voting-PA</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-TX" "="">
            <strong title="Questions for Texas Voters">Voting-TX</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-VA" "="">
            <strong title="Voting Questions specific to VA">Voting-VA</strong> - 14 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-WI" "="">
            <strong title="Voting and registration questions for WI voters">Voting-WI</strong> - 10 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-2"><label class="col-lab" id="col-lab-2" aria-hidden="true" for="group-2">▶&nbsp;&nbsp;News</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="News-10" "="">
            <strong title="10 All News Questions">News-10</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="News-6" "="">
            <strong title="6 All News Questions">News-6</strong> - 6 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="News-8" "="">
            <strong title="8 All News Literacy Questions">News-8</strong> - 8 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-3"><label class="col-lab" id="col-lab-3" aria-hidden="true" for="group-3">▶&nbsp;&nbsp;Mixed Civics-News-Voting</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="LWV Demo" "="">
            <strong title="Demo - 4 Questions">LWV Demo</strong> - 4 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-AZ Mixed Civics and News" "="">
            <strong title="Civics, News, and Voting Questions for AZ voters">Voting-AZ Mixed Civics and News</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-Any State Mixed News and Civics" "="">
            <strong title="Civics, News, and Voting questions applicable to any state">Voting-Any State Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-CA Mixed News and Civics" "="">
            <strong title="News, Civics, Voting Questions for CA voters">Voting-CA Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-FL Mixed News and Civics" "="">
            <strong title="Questions on News, Civics, and Voting specific to FLA voters">Voting-FL Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-GA Mixed News and Civics" "="">
            <strong title="Questions on News and Civics and Voting specific to GA voters">Voting-GA Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-MI Mixed News and Civics" "="">
            <strong title="Mixed categories for MI voters">Voting-MI Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NC Mixed News and Civics" "="">
            <strong title="Mixed News and Civics and NC voting questions">Voting-NC Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NJ Mixed News and Civics" "="">
            <strong title="Mixed civics, news, and NJ specific voting questions">Voting-NJ Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-NV Mixed News and Civics" "="">
            <strong title="Mixed news, civics, and voting questions for NV voters">Voting-NV Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-OH Mixed News and Civics" "="">
            <strong title="News, Civics, and Voting Questions for MI voters">Voting-OH Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-PA Mixed News and Civics" "="">
            <strong title="News, Civics, Voting Questions for PA voters">Voting-PA Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-TX Mixed News and Civics" "="">
            <strong title="News, Civics, and Voting Questions for TX Voters">Voting-TX Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-VA Mixed News and Civics" "="">
            <strong title="VA specific voting questions plus news and civics">Voting-VA Mixed News and Civics</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting-WI Mixed News and Civics" "="">
            <strong title="News, civics, and voting questions for WI Voters">Voting-WI Mixed News and Civics</strong> - 10 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-4"><label class="col-lab" id="col-lab-4" aria-hidden="true" for="group-4">▶&nbsp;&nbsp;Mixed Civics-U.S. Constitution</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="Civics-U.S. Constitution Mixed-6" "="">
            <strong title="6 questions - US Constitution and Civics">Civics-U.S. Constitution Mixed-6</strong> - 6 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Civics-U.S. Constitution Mixed-8" "="">
            <strong title="8 uestions US constitution and civics">Civics-U.S. Constitution Mixed-8</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Civics-U.S. Constitution-Mixed-10" "="">
            <strong title="10 questions US Constitution and Civics">Civics-U.S. Constitution-Mixed-10</strong> - 10 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-5"><label class="col-lab" id="col-lab-5" aria-hidden="true" for="group-5">▶&nbsp;&nbsp;Politics/Social Issues</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="Climate Change Mixed Civics and News" "="">
            <strong title="News and Civics questions about Climate Change">Climate Change Mixed Civics and News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Climate Change-8 Civics" "="">
            <strong title="Climate Change Questions in Civics">Climate Change-8 Civics</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Climate Change-8 News" "="">
            <strong title="News articles related to climate change">Climate Change-8 News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Health Care/Covid in the News" "="">
            <strong title="News questions on health care and covid ">Health Care/Covid in the News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Money and Politics" "="">
            <strong title="Money and Politics">Money and Politics</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Racial Justice and Gender Equality-Civics" "="">
            <strong title="Civics questions addressing issues of racial justice and gender equality">Racial Justice and Gender Equality-Civics</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Racial Justice and Gender Equality-Mixed Civics and News" "="">
            <strong title="Questions related to racial justice and gender equality in civics and news">Racial Justice and Gender Equality-Mixed Civics and News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Racial Justice and Gender Equality-News" "="">
            <strong title="News questions about racial justice and gender equality">Racial Justice and Gender Equality-News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voter Suppression Mixed News and Civics" "="">
            <strong title="Voter Suppression Questions in News and Civics">Voter Suppression Mixed News and Civics</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voter Suppression-Civics" "="">
            <strong title="Questions relating to Voter Suppression in Civics">Voter Suppression-Civics</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voter Suppression-News" "="">
            <strong title="Questions about Voter Suppression in the News">Voter Suppression-News</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="Voting Rights-Mixed Civics and News" "="">
            <strong title="Questions related to voting rights in civics and news">Voting Rights-Mixed Civics and News</strong> - 8 questions
            </label></li></ul>
        </div><input type="radio" aria-hidden="true" name="accordion" id="group-6"><label class="col-lab" id="col-lab-6" aria-hidden="true" for="group-6">▶&nbsp;&nbsp;U.S. Constitution</label><div>
          <ul><li><label>
            <input type="radio" name="game" value="U.S. Constitution-10" "="">
            <strong title="10 US Constitution questions">U.S. Constitution-10</strong> - 10 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="U.S. Constitution-1st Amendment" "="">
            <strong title="Questions related to the 1st Amendment">U.S. Constitution-1st Amendment</strong> - 8 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="U.S. Constitution-4th Amendment" "="">
            <strong title="Questions related to the 4th Amendment">U.S. Constitution-4th Amendment</strong> - 4 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="U.S. Constitution-6" "="">
            <strong title="6 U.S. Constitution Questions">U.S. Constitution-6</strong> - 6 questions
            </label></li>
<li><label>
            <input type="radio" name="game" value="U.S. Constitution-8" "="">
            <strong title="U.S. Constitution">U.S. Constitution-8</strong> - 8 questions
            </label></li></ul>
        </div></div>
      <div class="start-btn">
        <button id="btn-open-game">START THE GAME</button>
      </div>
    </fieldset>
    <div class="sub-ver-back sub-ver-back-2">
      <div class="ver-checkbox">
          <img src="img/check-mark.png" alt="" class="ver-check">
      </div>
      <p class="ver-p1">E R I F Y</p>
      <p class="ver-p2">I T !</p>
    </div>
  </div>
  <div class="shadowed"><h1 class="toast">TEST VERSION OF GAME SETUP</h1></div>
  <script>

    async function fetchQuestions(game) {
      let gc = await request(`game_category?select=categories,no_questions&game=eq.${game}`)
      // console.log('gc', gc)
      let result = await Promise.all(gc.map( async cat => {
        const buf = await request( `random_question?select=title&game=eq.${game}&categories=eq.${cat.categories}&limit=${cat.no_questions}`)
        return buf.map( r => ({title: r.title, categories: cat.categories}) )
      }))
      return result.flat().sort(() => Math.random() - 0.5).map( (r,i) => ({title: r.title, categories: r.categories, sequence: i}) )
    }


    async function main() {
      $('#handle-multiplayer').value = localStorage.handleMultiplayer || ''
      $('#handle-teacher').value = localStorage.handleTeacher || ''
      $('#school').value = localStorage.school || ''
      $('#grade').value = localStorage.grade || ''
      $('#city').value = localStorage.city || ''

      let params = {}
      new URLSearchParams(location.hash.slice(1)).forEach( (v, k) => params[k] = `${v}`)
      console.log('params', params)
      if (params.hasOwnProperty('teacher')) {
        document.title += ' - Teacher'
        $('#teacher').style.display = 'block'
      }
      else if (params.hasOwnProperty('multiplayer')) {
        document.title += ' - Multiplayer'
        $('#multiplayer').style.display = 'block'
      }
      else document.title += ' - SinglePlayer'

      var questions = []

      let games =  {Civics: [], Voting: [], News: []} // team asked for these to be the first three game groups listed
      let buf = await request('game?select=name,description,game_group,game_category(no_questions)&name=neq.(none)&game_status=eq.Production&game_group=not.is.null&order=game_group,name')
      buf.forEach(row => {
        if (!games[row.game_group]) games[row.game_group] = []
        games[row.game_group].push(row)
      })
      // console.log('games', games)
      let container = $('#game-setup .collapse')
      let groupTmpl = document.createElement('div')
      while (container.firstElementChild) groupTmpl.appendChild(container.removeChild(container.firstElementChild))
      // console.log('groupTmpl', groupTmpl)
      Object.keys(games).forEach( (gn, i) => {
        let newItem = groupTmpl.cloneNode(true)
        let input = newItem.querySelector('input')
        let label = newItem.querySelector('label')
        let content = newItem.querySelector('div ul')
        // console.log('  group', gn, i, input, label, content)

        input.id = `group-${i}`
        if (i == 0) input.checked = true
        label.setAttribute('for', input.id)
        label.innerHTML = `▶&nbsp;&nbsp;${gn}`
        content.innerHTML = games[gn].map (r => {
          let cs = r.game_category.length
          if (cs == 0) return ''
          let qs = r.game_category.map( gc => gc.no_questions ).reduce( (a,c) => a + c , 0)

          return `<li><label>
            <input type="radio" name="game" value="${r.name}"" />
            <strong title="${r.description}">${r.name}</strong> - ${qs} questions
            </label></li>` 
        }).join('\n')
        
        while (newItem.firstElementChild) container.appendChild(newItem.removeChild(newItem.firstElementChild))
      })

      $('#btn-open-game').onclick = async evt => {
        evt.preventDefault()
        const checked = $('input[name=game]:checked')
        if (checked == null) {
          alert('Please select a Game Plan first.')
          return
        }
        const game = checked.value
        console.log('teacher?', $('#teacher').style.display == 'block', 'multiplayer?', $('#multiplayer').style.display == 'block')
        if ($('#teacher').style.display == 'block') {
          let errs = []
          if ($('#handle-teacher').value == '') errs.push('Missing Teacher handle')
          if ($('#school').value == '') errs.push('Missing School')
          if ($('#grade').value == '') errs.push('Missing Grade')
          if ($('#city').value == '') errs.push('Missing City')
          if (errs.length > 0) {
            alert(`PLEASE COMPLETE THE FORM:\n\n${errs.join('\n\t')}`)
            return
          }


          localStorage.handleTeacher = $('#handle-teacher').value
          localStorage.school        = $('#school').value        
          localStorage.grade         = $('#grade').value         
          localStorage.city          = $('#city').value
          let params = [
            `gameName=${game}`,
            `handleTeacher=${$('#handle-teacher').value}`,
            `school=${$('#school').value}`,
            `grade=${$('#grade').value}`,
            `city=${$('#city').value}`,
          ]
          location.assign(`./dashboard.html#${params.join('&')}`)
        }
        else if ($('#multiplayer').style.display == 'block') {
          if ($('#handle-multiplayer').value == '') {
            alert('Please enter your Handle.')
            return
          }
          localStorage.handleMultiplayer = $('#handle-multiplayer').value
          // alert ('multiplayer dashboard not yet supported')
          location.assign(`./dashboard.html#gameName=${game}&handleMultiplayer=${$('#handle-multiplayer').value}`)
        }
        else location.assign(`../index.html#gameName=${game}`) // It's single player, go right to game
      }
    }

    main()

  </script>
  <script src="script-t-dash.js"></script>


</body><loom-container id="lo-engage-ext-container"><loom-shadow classname="resolved"></loom-shadow></loom-container><loom-container id="lo-companion-container"><loom-shadow classname="resolved"></loom-shadow></loom-container></html>